"use client";

import React, { useState, useEffect, useRef, useLayoutEffect } from 'react';
import { motion, useScroll, useTransform } from "framer-motion"

export default function DrawingSketch() {
const [scrollProgress, setScrollProgress] = useState(0);


const pathRef = useRef<SVGPathElement>(null);
  <svg width="2722" height="1834" viewBox="0 0 2722 1834" fill="none" xmlns="http://www.w3.org/2000/svg">
  </svg>

  const pathCopy = (
  <path ref={pathRef}
    d="M2706.07 2C2734.24 212.167 2652.97 630.7 2102.57 623.5C1552.17 616.3 1554.57 620.5 1624.57 623.5C1527.57 624.833
    1335.37 705.3 1342.57 1016.5H833.57C556.403 1004.83 3.86969 1086 11.0697 1504V1580H1231.07L1243.07 1557M1243.07
    1557C1238.57 1497.17 1235.57 1377.8 1259.57 1379C1283.57 1380.2 1302.24 1354.17 1308.57 1341C1301.4 1334.17 1288.17
    1317.2 1292.57 1304C1298.07 1287.5 1303.57 1272 1318.57 1269.5C1330.57 1267.5 1333.57 1291.67 1333.57 1304L1326.57
    1341C1346.07 1350.5 1383.47 1382.9 1377.07 1436.5C1370.67 1490.1 1364.4 1539.17 1362.07 1557L1370.57 1581.5C1376.74
    1562 1391.87 1527.1 1403.07 1543.5C1414.27 1559.9 1413.4 1537.33 1411.57 1524C1406.4 1525 1395.27 1523.7 1392.07
    1510.5C1388.87 1497.3 1403.74 1484 1411.57 1479C1421.9 1483.17 1440.67 1493.4 1433.07 1501C1425.47 1508.6 1429.9
    1526.17 1433.07 1534C1445.07 1543.33 1466.87 1565.9 1458.07 1581.5C1449.27 1597.1 1468.07 1596.33 1478.57
    1594C1476.57 1541.5 1477.27 1436.5 1496.07 1436.5C1514.87 1436.5 1521.24 1412.83 1522.07 1401C1513.57 1386.5 1504.77
    1354.2 1537.57 1341C1570.37 1327.8 1574.9 1375.5 1573.07 1401C1577.07 1421.83 1587.57 1460 1597.57 1446C1607.57 1432
    1593.4 1538.83 1585.07 1594C1569.07 1647.5 1539.57 1763.5 1549.57 1799.5C1559.57 1835.5 1535.4 1821.83 1522.07
    1810.5C1527.57 1739.17 1540.77 1597.6 1549.57 1602C1560.57 1607.5 1505.07 1745 1506.07 1810.5H1496.07C1501.9 1748.33
    1510.07 1621 1496.07 1609C1482.07 1597 1458.57 1611.33 1448.57 1620L1433.07 1799.5H1411.57V1685.5L1403.07
    1799.5L1385.57 1794C1383.4 1761.33 1380.37 1693.9 1385.57 1685.5C1390.77 1677.1 1387.74 1638.33 1385.57 1620L1352.57
    1581.5C1348.4 1654.33 1340.37 1802.1 1341.57 1810.5C1342.77 1818.9 1326.74 1814 1318.57 1810.5L1308.57
    1581.5C1303.24 1646.83 1292.57 1780.8 1292.57 1794C1292.57 1807.2 1270.57 1810.5 1259.57 1810.5C1248.57 1808.67
    1229.87 1803.9 1243.07 1799.5C1256.27 1795.1 1259.57 1779.33 1259.57 1772V1581.5L1243.07 1557Z"
    stroke="black" stroke-width="21" />
  )

    
    const ref = useRef<any>(null);
    const { scrollYProgress } = useScroll({
      target: ref,
      offset: ["start 0.6" , "0.3 end"]
    })
    const draw = useTransform(scrollYProgress, [0,1] , [ 9625.779296875, 0])
    useLayoutEffect(() => {
      if (ref.current) {
        console.log("total length "+ref.current.getTotalLength());
      }
    }, [pathRef]);
    const svg = (
    <svg width="2938" className="w-full h-full pb-16 absolute -top-10 -z-0" height="1821" viewBox="0 0 2938 1821" fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <motion.path ref={ref} strokeDasharray="9625.779296875 9625.779296875" strokeDashoffset={0}
        d="M2873 3C2901.17 213.167 2500.9 1099.7 1950.5 1092.5C1400.1 1085.3 1314.07 1146 1384.07 1149C1287.07 1150.33 1327.37
        946.3 1334.57 1257.5H825.57C548.403 1245.83 -4.13031 1327 3.06969 1745V1909H1223.07L1235.07 1886M1235.07 1886C1230.57
        1826.17 1216.5 1688.8 1240.5 1690C1264.5 1691.2 1270.17 1683.17 1276.5 1670C1269.33 1663.17 1267.1 1613.7 1271.5
        1600.5C1277 1584 1302.5 1592.5 1314.5 1590.5C1326.5 1588.5 1325.57 1620.67 1325.57 1633L1318.57 1670C1338.07 1679.5
        1375.47 1711.9 1369.07 1765.5C1362.67 1819.1 1356.4 1868.17 1354.07 1886V1886C1357.64 1896.93 1367.47 1895.54 1371.68
        1884.83C1372.93 1881.68 1374.77 1878.45 1377.57 1875C1384.07 1867 1391.43 1856.86 1400 1859C1387.93 1859 1387.27 1852.7
        1384.07 1839.5C1380.87 1826.3 1398.67 1817 1406.5 1812C1416.83 1816.17 1434.5 1826.25 1434.5 1837C1434.5 1853.5 1421.33
        1851.17 1424.5 1859C1436.5 1868.33 1458.87 1894.9 1450.07 1910.5C1441.27 1926.1 1460.07 1925.33 1470.57 1923C1468.57
        1870.5 1469.27 1765.5 1488.07 1765.5C1506.87 1765.5 1513.24 1741.83 1514.07 1730C1505.57 1715.5 1496.77 1683.2 1529.57
        1670C1562.37 1656.8 1566.9 1704.5 1565.07 1730C1569.07 1750.83 1579.57 1789 1589.57 1775C1599.57 1761 1585.4 1867.83
        1577.07 1923C1561.07 1976.5 1531.57 2092.5 1541.57 2128.5C1551.57 2164.5 1527.4 2150.83 1514.07 2139.5C1519.57 2068.17
        1532.77 1926.6 1541.57 1931C1552.57 1936.5 1497.07 2074 1498.07 2139.5H1488.07C1493.9 2077.33 1502.07 1950 1488.07
        1938C1474.07 1926 1450.57 1940.33 1440.57 1949L1425.07 2128.5H1403.57V2014.5L1395.07 2128.5L1377.57 2123C1375.4 2090.33
        1372.37 2022.9 1377.57 2014.5C1382.77 2006.1 1379.74 1967.33 1377.57 1949L1344.57 1910.5C1340.4 1983.33 1332.37 2131.1
        1333.57 2139.5C1334.77 2147.9 1318.74 2143 1310.57 2139.5L1300.57 1910.5C1295.24 1975.83 1284.57 2109.8 1284.57
        2123C1284.57 2136.2 1262.57 2139.5 1251.57 2139.5C1240.57 2137.67 1221.87 2132.9 1235.07 2128.5C1248.27 2124.1 1251.57
        2108.33 1251.57 2101V1910.5L1235.07 1886Z" stroke="black" stroke-width="5" stroke-linecap="round"
        stroke-linejoin="round"/>
    
    </svg>
    )



    // Check if path is an SVGPathElement

    return svg;
    }